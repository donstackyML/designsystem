import { Meta, Story, Controls, Source } from "@storybook/addon-docs";
import * as PopoverStories from "./me-popover.stories";
import { moduleMetadata } from "@storybook/angular";
import { DxPopoverModule } from "devextreme-angular/ui/popover";
import { MePopoverDirective } from "../../public-api";

<Meta
  title="Components/Popover"
  component={MePopoverDirective}
  decorators={[
    moduleMetadata({
      declarations: [MePopoverDirective],
      imports: [DxPopoverModule],
    }),
  ]}
  of={PopoverStories}
/>

# Popover

## Директива mePopover

Директива `mePopover` добавляет дополнительные возможности к компоненту `dxPopover` из библиотеки DevExtreme, позволяя настраивать события показа/скрытия, позиционирование, размер и другие параметры.

<Story name="Default" of={PopoverStories.Default} />
<Controls of={PopoverStories.Default} />
<Source of={PopoverStories.Default} dark />

## Примеры использования:

### Поповер с заголовком

<Story name="WithTitle" of={PopoverStories.WithTitle} />
<Source
  code={`<dx-popover mePopover [showEvent]="'click'" [hideEvent]="'mouseleave'" [position]="'bottom'" [showTitle]="true" [title]="'Заголовок поповера'" [content]="'Это поповер с заголовком и ограничением максимальной ширины.'"></dx-popover>`}
  dark
  language="html"
/>

### Поповер с затемнением фона

<Story name="WithOverlay" of={PopoverStories.WithOverlay} />
<Source
  code={`<dx-popover mePopover [showEvent]="'click'" [hideEvent]="'click'" [shading]="true" [shadingColor]="'rgba(0, 0, 0, 0.5)'" [content]="'Это поповер с затенением фона.'"></dx-popover>`}
  dark
  language="html"
/>

## Перечень свойств

<Controls story={PopoverStories.Default} />

## Обработка событий

Пример использования директивы `mePopover` с обработкой событий показа и скрытия:

<Source
  code={`
<dx-popover
  mePopover
  [showEvent]="'mouseenter'"
  [hideEvent]="'mouseleave'"
  [position]="'top'"
  [width]="300"
  [showTitle]="false"
  [shading]="false"
  [content]="'Это содержимое поповера по умолчанию.'"
  (onShowing)="onPopoverShowing($event)"
  (onHiding)="onPopoverHiding($event)"
>
</dx-popover>

      // В вашем компоненте:
      onPopoverShowing(e: any) {
        console.log('Popover is showing:', e);
      }

      onPopoverHiding(e: any) {
        console.log('Popover is hiding:', e);
      }

`}
dark
language="typescript"
/>

## Дополнительные параметры

<Controls of={PopoverStories.Default} />
