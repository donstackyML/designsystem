import {
  Meta,
  Story,
  Controls,
  Source,
} from "@storybook/addon-docs";
import * as CalendarStories from "./me-calendar.stories";
import { moduleMetadata } from "@storybook/angular";
import { DxCalendarModule } from 'devextreme-angular';
import { MeCalendarDirective } from "../../public-api";

<Meta
  title="Components/Calendar"
  component={MeCalendarDirective}
  decorators={[
    moduleMetadata({
      declarations: [MeCalendarDirective],
      imports: [DxCalendarModule],
    }),
    ]}
  of={CalendarStories}
/>

# Calendar

## Директива meCalendar

Директива `meCalendar` расширяет функциональность стандартного компонента календаря DevExtreme, добавляя дополнительные возможности настройки и обработки событий.

<Story name="Default" of={CalendarStories.Default} />
<Controls of={CalendarStories.Default} />

<Source of={CalendarStories.Default} dark />

## Примеры использования:

### Календарь без номеров недель

Для скрытия номеров недель используйте параметр `showWeekNumbers={false}`.

<Story name="WithoutWeekNumbers" of={CalendarStories.WithoutWeekNumbers} />

<Source
  code={`<dx-calendar meCalendar [showWeekNumbers]="false"></dx-calendar>`}
  dark
  language="html"
/>

### Отключенный календарь

Чтобы отключить календарь, используйте параметр `disabled={true}`.

<Story name="Disabled" of={CalendarStories.Disabled} />

<Source
  code={`<dx-calendar meCalendar [disabled]="true"></dx-calendar>`}
  dark
  language="html"
/>

### Изменение первого дня недели

Для изменения первого дня недели используйте параметр `firstDayOfWeek`.

<Story name="CustomFirstDay" of={CalendarStories.CustomFirstDay} />

<Source
  code={`<dx-calendar meCalendar [firstDayOfWeek]="0"></dx-calendar>`}
  dark
  language="html"
/>

### Изменение уровня масштабирования

Для изменения начального уровня масштабирования используйте параметр `zoomLevel`.

<Story name="YearZoomLevel" of={CalendarStories.YearZoomLevel} />

<Source
  code={`<dx-calendar meCalendar zoomLevel="year"></dx-calendar>`}
  dark
  language="html"
/>

### Настройка правила номера недели

Для настройки правила расчета номера недели используйте параметр `weekNumberRule`.

<Story name="CustomWeekNumberRule" of={CalendarStories.CustomWeekNumberRule} />

<Source
  code={`<dx-calendar meCalendar weekNumberRule="fullWeek"></dx-calendar>`}
  dark
  language="html"
/>

## Перечень свойств

<Controls story={CalendarStories.Default} />

## Обработка событий

Календарь поддерживает стандартные события DevExtreme. Вот пример обработки события изменения даты:

<Source
  code={`
<dx-calendar
  meCalendar
  [value]="currentDate"
  (onValueChanged)="onDateValueChanged($event)"
></dx-calendar>

  // В вашем компоненте:
  onDateValueChanged(e: any) {
    console.log('Выбранная дата:', e.value);
  }
`}
  dark
  language="typescript"
/>

Это позволяет вам реагировать на изменения выбранной даты в календаре.
