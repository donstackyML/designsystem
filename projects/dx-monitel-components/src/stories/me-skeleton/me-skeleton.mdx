import { Meta, Story, Controls, Source, Canvas } from "@storybook/addon-docs";
import * as SkeletonStories from "./me-skeleton.stories";
import { moduleMetadata } from "@storybook/angular";
import { MeSkeletonComponent } from "../../public-api";

<Meta
  title="Components/Skeleton"
  component={MeSkeletonComponent}
  decorators={[
    moduleMetadata({
      imports: [MeSkeletonComponent], // Изменено с declarations на imports
    }),
  ]}
  of={SkeletonStories}
/>

# Skeleton

Компонент `MeSkeleton` предоставляет визуальную заглушку во время загрузки контента или для отображения отсутствующего контента.

<Canvas of={SkeletonStories.Default} />
<Controls of={SkeletonStories.Default} />
<Source of={SkeletonStories.Default} dark />

## Примеры использования

### С аватаром

<Canvas of={SkeletonStories.WithAvatar} />
<Source
  code={`
<me-skeleton [avatar]="{ size: 'large', shape: 'circle' }"></me-skeleton>
`}
  dark
  language="html"
/>

### Анимация

<Canvas of={SkeletonStories.ActiveAnimation} />
<Source
  code={`
<me-skeleton [active]="true"></me-skeleton>
`}
  dark
  language="html"
/>

### Настраиваемый заголовок и параграфы

<Canvas of={SkeletonStories.CustomTitleAndParagraph} />
<Source
  code={`
<me-skeleton
  [title]="{ width: '40%' }"
  [paragraph]="{ rows: 4, width: ['100%', '90%', '80%', '60%'] }">
</me-skeleton>
`}
  dark
  language="html"
/>

### Закругленные углы

<Canvas of={SkeletonStories.Rounded} />
<Source
  code={`
<me-skeleton
  [round]="true"
  [title]="{ width: '50%' }"
  [paragraph]="{ rows: 3, width: ['100%', '80%', '60%'] }">
</me-skeleton>
`}
  dark
  language="html"
/>

### Загрузка контента

<Canvas of={SkeletonStories.Loading} />
<Source
  code={`
<me-skeleton [loading]="true">
  <div>
    <h4>Заголовок после загрузки</h4>
    <p>Этот текст отображается, когда загрузка завершена.</p>
  </div>
</me-skeleton>
`}
  dark
  language="html"
/>

### Комплексная комбинация

<Canvas of={SkeletonStories.ComplexCombination} />
<Source
  code={`
<me-skeleton
  [active]="true"
  [avatar]="{ size: 'large', shape: 'circle' }"
  [title]="{ width: '50%' }"
  [paragraph]="{ rows: 4, width: ['100%', '90%', '80%', '70%'] }"
  [round]="true">
</me-skeleton>
`}
  dark
  language="html"
/>

## Свойства компонента

| Свойство  | Тип     | Описание                                                                          |
| --------- | ------- | --------------------------------------------------------------------------------- |
| active    | boolean | Включает анимацию скелета                                                         |
| avatar    | object  | Отображает аватар. Может быть объектом с параметрами размера и формы              |
| loading   | boolean | Отображает содержимое вместо скелета при `true`                                   |
| paragraph | object  | Отображает параграфы. Может быть объектом с параметрами количества строк и ширины |
| title     | object  | Отображает заголовок. Может быть объектом с параметром ширины                     |
| round     | boolean | Скругляет углы заголовка и параграфов                                             |

<Controls of={SkeletonStories.Default} />
