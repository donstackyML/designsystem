import { Meta, Story, Controls, Source } from "@storybook/addon-docs";
import * as DataGridStories from "./me-data-grid.stories";
import { moduleMetadata } from "@storybook/angular";
import { DxDataGridModule } from "devextreme-angular";
import { MeDataGridDirective } from "../../public-api";
import { Figma } from "@storybook/addon-designs/blocks";

<Meta
  title="Components/DataGrid"
  component={MeDataGridDirective}
  decorators={[
    moduleMetadata({
      declarations: [MeDataGridDirective],
      imports: [DxDataGridModule],
    }),
  ]}
  of={DataGridStories}
/>

# DataGrid

## Директива meDataGrid

Применение директивы `meDataGrid` к элементу `dx-data-grid` приводит его размеры к значению `size=medium` из дизайн-системы, а также приводит отступы в соответствие с дизайн-системой, добавляет свойство `size`.

[Ссылка на API компонента DevExtreme](https://js.devexpress.com/Angular/Documentation/ApiReference/UI_Components/dxDataGrid/)

<Story name="Default" of={DataGridStories.DataGrid} />
<Controls of={DataGridStories.DataGrid} />
<Source of={DataGridStories.DataGrid} dark />

## Дизайн

<Figma
  height="50%"
  collapsable
  defaultCollapsed
  url="https://www.figma.com/design/RKYvr3REXwOglog9PMcZLF/Components-(Copy)?node-id=4431-163676&node-type=frame&t=4m2SISUYumG3whUY-0"
/>

## Примеры использования:

- [размеры dataGrid](#размеры)
- [pagination](#pagination)
- [стиль Pagination](#стиль-пагинатора)
- [каунтеры в таблице](#каунтеры-в-таблице)

## Размеры

Поддерживает несколько вариаций размеров dataGrid: `small`, `medium` и `large`.

<Source of={DataGridStories.DataGrid} dark />

## Pagination

Для добавления Pagination необходимо использовать `dxo-pager`.
Для контроля колличества строк в таблице необходимо использовать `dxo-paging`.

<Source
  code={`
<dx-data-grid meDataGrid>
	<dxo-pager></dxo-pager>
	<dxo-paging></dxo-paging>
</dx-data-grid>`}
  dark
  language="html"
/>

## Стиль пагинатора

Для изменения стиля Pagination необходимо использовать свойство `displayMode` в `dxo-pager`. По умолчанию значение `full`.

<Source
  code={`<dxo-pager displayMode="full"></dxo-pager>
`}
  dark
  language="html"
/>

## Каунтеры в таблице

Для добавления каунтеров или инных элементов в ячейках необходимо использовать `cellTemplate` в `dxi-column` и создвть шаблон с помощью `*dxTemplate`.

<Source of={DataGridStories.WithCounter} dark language="html" />
<Story of={DataGridStories.WithCounter} />
