import { Meta, Story, Controls, Source, Canvas } from "@storybook/addon-docs";
import * as toolbarStories from "./me-toolbar.stories";
import { Figma } from "@storybook/addon-designs/blocks";

<Meta title="Toolbar Documentation" of={toolbarStories} />

# Toolbar

## Директива meToolbar

Применение директивы <code>meToolbar</code> к элементу <code>dx-toolbar</code> приводит его размеры к значению <code>size=medium</code> из дизайн-системы и предоставляет доступ к другим свойствам. Изменение размеров элементов тулбара происходит путем добавления соответствующих директив и установки нужных размеров.

<Canvas of={toolbarStories.Default} />
<Controls of={toolbarStories.Default} />
{/* <Source of={toolbarStories.Default} dark /> */}

## Дизайн

<Figma
  height="50%"
  collapsible
  defaultCollapsed
  url="https://www.figma.com/design/S2KXryEyWLA9cplaicYrVn/Components?node-id=784-12263&t=1RhAsYBAzb8jZPoX-0"
/>

## Примеры использования

- [Добавление элементов](#добавление-элементов)
- [Добавление разделителей](#добавление-разделителей)
- [Изменение размера Toolbar](#изменение-размера-toolbar)
- [Изменение MultiLine](#изменение-multiline)

## Добавление элементов

### Добавление элементов с помощью `dx-items`

Для добавления элементов в `toolBar` необходимо использовать нужный вам компонент с директивой, обернув его в `<div *dxTemplate>` и `dxi-item`.

<Source
  code={`
<dx-toolbar meToolbar>
  <dxi-item location="before">
    <div *dxTemplate>
      <dx-button meButton iconOnly="icon"></dx-button>
    </div>
  </dxi-item>
</dx-toolbar>
`}
  language="html"
  dark
/>

### Добавление элементов с помощью `dataSource`

Для добавления элементов с помощью `dataSource` необходимо в `dx-toolBar` передать данные через `dataSource` типа массив с объектами, где `widget`- это необходимый компонент, `options`- настройки компонента из API.

<Source
  code={`
const data = [
  {
    widget: 'dxButton',
    options: {
      icon: 'add',
    },
  },
  {
    widget: 'dxButtonGroup',
    options: {
      items: [
        { lineHeight: 1, text: '1' },
        { lineHeight: 1.35, text: '1.35' },
        { lineHeight: 1.5, text: '1.5' },
        { lineHeight: 2, text: '2' },
      ],
    },
  },
]
`}
  language="js"
  dark
/>

## Добавление разделителей

Для добавления разделителей используйте класс <code>me-toolbar-separator</code> внутри элемента <code>dxi-item</code>.

<Source
  code={`
		<dx-toolbar meToolbar [size]="size">
			<dxi-item location="before">
				<div *dxTemplate>
					<div class="me-toolbar-separator"></div>
				</div>
			</dxi-item>
		</dx-toolbar>
	`}
  language="html"
  dark
/>

## Изменение размера Toolbar

Размер Toolbar можно изменить с помощью свойства <code>size</code>, доступного в директиве <code>meToolbar</code>. Доступны размеры <code>small</code>, <code>medium</code>, <code>large</code>.

<Source
  code={`
		<dx-toolbar meToolbar size="size">
			<!-- Ваши элементы -->
		</dx-toolbar>
	`}
  language="html"
  dark
/>

## Изменение MultiLine

Для изменения отображения компонента с переносом на новую строку, используйте параметр `multiline="true".

<Source
  code={`
		<dx-toolbar meToolbar multiline="true"></dx-toolbar>
	`}
  language="html"
  dark
/>

## Отображение в выпадающем меню

При `multiline="false"` элементы, которые не поместились, можно увидеть в выпадающем меню. Для того, чтобы дополнительно отображался текст, необходимо указать сам текст в компоненте `text="lorem ipsum"` и в `dx-item` указать `showText` когда будет отображаться `always`- всегда или `inMenu`- тоолько в выпадающем меню. `widget` указывает, в каком виде булет отобрадаться элемент в `toolBar`.

<Source
  code={`
		<dx-toolbar meToolbar>
			<dxi-item location="before" widget="dxButton" locateInMenu="auto" showText="inMenu">
				<div *dxTemplate>
					<dx-button meButton text="lorem ipsum" iconOnly="icon"></dx-button>
				</div>
			</dxi-item>
		</dx-toolbar>
	`}
  language="html"
  dark
/>
