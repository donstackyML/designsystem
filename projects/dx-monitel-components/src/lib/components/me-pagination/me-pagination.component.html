<div class="me-pagination">
  <div class="me-pagination__size-controls" [ngClass]="size">
    <ng-container *ngIf="useButtons; else selectBoxTemplate">
      <dx-button
        *ngFor="let size of itemsPerPageOptions"
        stylingMode="contained"
        [type]="itemsPerPage === size ? 'default' : 'normal'"
        [text]="size.toString()"
        (onClick)="changeItemsPerPage(size)"
      ></dx-button>
    </ng-container>
    <ng-template #selectBoxTemplate>
      <dx-select-box
        [items]="itemsPerPageOptions"
        [value]="itemsPerPage"
        (onValueChanged)="onItemsPerPageChange($event)"
        [width]="80"
        [ngClass]="size"
      ></dx-select-box>
    </ng-template>
  </div>

  

  <div class="me-pagination__controls" [ngClass]="size">
    <span class="me-pagination__info">Записей: {{ totalItems }}</span>
    <dx-button
      stylingMode="text"
      [disabled]="currentPage === 1"
      (onClick)="prevPage()"
      icon="chevronleft"
    ></dx-button>

    <ng-container *ngFor="let page of pages; trackBy: trackByFn">
      <ng-container *ngIf="page !== '...'">
        <dx-button
          [stylingMode]="page === currentPage ? 'contained' : 'outlined'"
          [text]="page.toString()"
          (onClick)="changePage(page)"
          [type]="page === currentPage ? 'default' : 'normal'"
        ></dx-button>
      </ng-container>
      <span *ngIf="page === '...'" class="me-pagination__ellipsis">...</span>
    </ng-container>

    <dx-button
      stylingMode="text"
      [disabled]="currentPage === totalPages"
      (onClick)="nextPage()"
      [ngClass]="size"
      icon="chevronright"
    ></dx-button>
  </div>
</div>
