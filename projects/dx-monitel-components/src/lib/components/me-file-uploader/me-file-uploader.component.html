<div class="file-uploader"
     [class.drag-over]="dragOver"
     (click)="openFileDialog()"
     (dragover)="onDragOver($event)"
     (dragleave)="onDragLeave($event)"
     (drop)="onDrop($event)">
  <p>{{ labelText }}</p>
  <dx-button
    text="{{ selectButtonText }}"
    stylingMode="contained"
    type="default">
  </dx-button>
  <input #fileInput
         type="file"
         [attr.multiple]="multiple ? true : null"
         (change)="onFileSelected($event)"
         style="display: none;">
</div>

<div class="file-list" *ngIf="showFileList && files.length > 0">
  <div class="file-item" *ngFor="let fileWrapper of files; let i = index">
    <div class="file-details">
      <me-icon icon="insert_drive_file" size="large"></me-icon>
      <div class="file-details">
        <div class="file-info">
          <div class="file-name-size">
            <span class="file-name">{{ fileWrapper.file.name }}</span>
            <span class="file-size">{{ fileWrapper.file.size / 1024 | number: '1.0-2' }} KB</span>
          </div>
          <span class="file-status" *ngIf="fileWrapper.status === 'error'">
      {{ fileWrapper.error }}
    </span>
        </div>
      </div>
    </div>
    <div class="file-actions">
      <me-icon icon="cancel" class="me-icon-cancel" color="#D50F3F" size="large" (click)="removeFile(i)"></me-icon>
    </div>
  </div>
  <div class="allowed-extensions" *ngIf="!validFileType">
    Allowed file extensions: <span class="extensions">{{ allowedFileExtensions.join(', ') }}</span>
  </div>
</div>
